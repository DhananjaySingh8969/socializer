{function addComment(e){let t=e;t||(t=$(".cmt-form"));for(let e of t)$(e).submit((function(t){t.preventDefault(),$.ajax({type:"POST",url:"/comment/create",data:$(e).serialize(),success:function(t){$("div textarea",e).val("");let n=$(`#post-item${t.data.post} .comment-section .comments-contianer ol`),o=createCommentDom(t.data);$(n).prepend(o),successMsg("comment added successfully!"),deleteCommentHelper($(".dlt-cmt-btn",o)),cmtLikeBtn($(".cmtLikeBtn",o))},error:function(e){console.log("ERROR in add comment",e.responseText),errorMsg(e.responseText)}})}))}function createCommentDom(e){return $(`\n                <li id=comment-item${e._id}>\n                    <a  href="/likes/toggle/?id=${e._id}&type=Comment"  class="g-like cmtLikeBtn" ><i class="far fa-thumbs-up"></i><span>${e.likes.length}</span> likes</a>\n                    <p class="comment-content d-inline">${e.content}</p>\n                    <small class="alert-link d-inline">\n                        ${e.user.name}\n                    </small>\n                    <a class="d-inline dlt-cmt-btn" href="/comment/destroy/${e._id}"><i class="fas fa-trash fa-xs danger-color"></i></a>\n                </li>\n            `)}function deleteCommentHelper(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"GET",url:$(e).prop("href"),success:function(e){$("#comment-item"+e.data).remove(),successMsg("comment  deleted successfully!")},error:function(e){console.log("error in deleteCommentHelper",e),errorMsg(e.responseText)}})}))}function deleteComment(){let e=$(".comments-contianer ol li .dlt-cmt-btn");for(let t of e)deleteCommentHelper(t)}addComment(),deleteComment()}